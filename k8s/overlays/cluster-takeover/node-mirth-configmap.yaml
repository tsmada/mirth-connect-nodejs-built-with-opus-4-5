apiVersion: v1
kind: ConfigMap
metadata:
  name: node-mirth-config
  namespace: mirth-cluster-takeover
  labels:
    app: node-mirth
    app.kubernetes.io/part-of: mirth-connect
data:
  # Use "staging" to bypass production guards (Redis, strict CORS)
  # while keeping production-like behavior (JSON logging, limits).
  # Change to "production" for real deployments with Redis + proper CORS.
  NODE_ENV: "staging"
  MIRTH_CLUSTER_HEARTBEAT_INTERVAL: "10000"
  MIRTH_CLUSTER_HEARTBEAT_TIMEOUT: "30000"
  MIRTH_CLUSTER_SEQUENCE_BLOCK: "100"
  MIRTH_CLUSTER_LEASE_TTL: "15000"
  MIRTH_CLUSTER_POLLING_MODE: "exclusive"
